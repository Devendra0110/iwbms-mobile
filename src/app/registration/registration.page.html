<ion-header>
  <ion-toolbar  color="primary">
    <ion-title>Registration</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="registrationFormGroup">
    <form [formGroup]="registrationFormGroup.get('personalDetails')">
      <ion-list>
        <ion-list-header style="font-size:20px;">Personal Details</ion-list-header>

        <ion-item hidden="true">
          <ion-label position="floating"> Registration Date</ion-label>
          <ion-datetime readonly formControlName="registrationDatePersonal" id="personalDetails-registrationDatePersonal" displayFormat="DD MMMM, YYYY" picker-format="DD MMMM YYYY" value="{{ todaysDate.month }}/{{ todaysDate.day }}/{{todaysDate.year}}"></ion-datetime>
        </ion-item>

        <ion-item hidden="true">
          <ion-label position="floating"> नोंदणी दिनांक</ion-label>
          <ion-datetime readonly displayFormat="DD/MM/YYYY" picker-format="DD/MM/YYYY" value="{{ todaysDate.day }}/{{ todaysDate.month }}/{{
              todaysDate.year
            }}"></ion-datetime>
        </ion-item>

        <ion-item >
          <ion-label position="floating">First Name<span style="color: Red">*</span></ion-label>
          <ion-input maxlength="20" [class.is-invalid]="firstNamePersonal.invalid && firstNamePersonal.touched" formControlName="firstNamePersonal" clearInput id="personalDetails-firstNamePersonal"  class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" ></ion-input>
          <div class="text-danger" *ngIf="firstNamePersonal.invalid && firstNamePersonal.touched">
            <small *ngIf="!!firstNamePersonal.errors?.required">Please enter your First Name.</small>
            <small *ngIf="!!firstNamePersonal.errors?.maxlength">You have exceeded the max length.</small>
            <small *ngIf="!!firstNamePersonal.errors?.pattern">Please enter appropriate Name.</small>
          </div>
        </ion-item>


        <ion-item  *ngIf="firstNamePersonal_mr.value">
          <ion-label>{{firstNamePersonal_mr.value}}</ion-label>
        </ion-item>

        <ion-item >
          <ion-label position="floating">Middle Name</ion-label>
          <ion-input maxlength="20" formControlName="middleNamePersonal"
            [class.is-invalid]="middleNamePersonal.invalid && middleNamePersonal.touched" class="transliterate"
            id='personalDetails-middleNamePersonal' (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
          <div class="text-danger" *ngIf="middleNamePersonal.invalid && middleNamePersonal.touched">
            <small *ngIf="!!middleNamePersonal.errors?.maxlength">You have exceeded the max length.</small>
            <small *ngIf="!!middleNamePersonal.errors?.pattern">Please enter appropriate Name.</small>
          </div>
        </ion-item>

        <ion-item *ngIf="middleNamePersonal_mr.value">
          <ion-label >{{middleNamePersonal_mr.value}}</ion-label>
        </ion-item>

        <ion-item >
          <ion-label position="floating">Last Name<span style="color: Red">*</span></ion-label>
          <ion-input maxlength="20" formControlName="lastNamePersonal"
            [class.is-invalid]="lastNamePersonal.invalid && lastNamePersonal.touched"
            id='personalDetails-lastNamePersonal' (ionBlur)="transliterateDirect($event)" class="transliterate" autocapitalize="words" clearInput></ion-input>
          <div class="text-danger" *ngIf="lastNamePersonal.invalid && lastNamePersonal.touched">
            <small *ngIf="!!lastNamePersonal.errors?.required">Please enter your Last Name.</small>
            <small *ngIf="!!lastNamePersonal.errors?.maxlength">You have exceeded the max length.</small>
             <small *ngIf="!!lastNamePersonal.errors?.pattern">Please enter appropriate Name.</small>
          </div>
        </ion-item>

        <ion-item *ngIf="lastNamePersonal_mr.value">
          <ion-label >{{lastNamePersonal_mr.value}}</ion-label>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Aadhar Number<span style="color: Red"> *</span></ion-label>
          <ion-input [class.is-invalid]="
              aadharNoPersonal.invalid && aadharNoPersonal.touched
            " type="tel" maxlength="12" minlength="12" formControlName="aadharNoPersonal" clearInput
            id='personalDetails-aadharNoPersonal'></ion-input>
          <div class="text-danger" *ngIf="aadharNoPersonal.invalid && aadharNoPersonal.touched">
            <small *ngIf="!!aadharNoPersonal.errors?.required">Please enter your Aadhar Number.</small>
            <small *ngIf="!!aadharNoPersonal.errors?.pattern">Please enter appropriate Aadhar Number.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Gender<span style="color: Red"> *</span></ion-label>
          <ion-select formControlName="genderPersonal" [class.is-invalid]="genderPersonal.invalid && genderPersonal.touched" id='personalDetails-genderPersonal' interface="action-sheet" (ionChange)="handleSpecialDropdowns($event)">
              <ion-select-option class="ics" *ngFor="let gender of genderOptions|keyvalue" value="{{ gender.key }}">{{ gender.value }}</ion-select-option>
          </ion-select>
          <div class="text-danger" *ngIf="genderPersonal.invalid && genderPersonal.touched">
            <small *ngIf="!!genderPersonal.errors?.required">Please choose your gender.</small>
          </div>
        </ion-item>

        <ion-item hidden="true" >
          <ion-label position="floating">लिंग</ion-label>
          <ion-select formControlName="genderPersonal_mr" interface="action-sheet">
            <ion-select-option *ngFor="let gender of genderOptionsMarathi|keyvalue" value="{{ gender.key }}">{{ gender.value }}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Marital Status<span style="color: Red"> *</span></ion-label>
          <ion-select formControlName="maritalStatusPersonal" [class.is-invalid]="maritalStatusPersonal.invalid && maritalStatusPersonal.touched"  id='personalDetails-maritalStatusPersonal' (ionChange)="handleSpecialDropdowns($event)" interface="action-sheet">
            <ion-select-option *ngFor="let maritalStatus of maritalStatusOptions|keyvalue" value="{{ maritalStatus.key }}">{{ maritalStatus.value }}</ion-select-option>
          </ion-select>
          <div class="text-danger" *ngIf="maritalStatusPersonal.invalid && maritalStatusPersonal.touched">
            <small *ngIf="!!maritalStatusPersonal.errors?.required">Please choose your Marital Status.</small>
          </div>
        </ion-item>

        <ion-item hidden="true">
          <ion-label position="floating">वैवाहिक स्थिती</ion-label>
          <ion-select formControlName="maritalStatusPersonal_mr" interface="action-sheet">
            <ion-select-option *ngFor="let maritalStatus of maritalStatusOptionsMarathi|keyvalue" value="{{ maritalStatus.key }}">{{ maritalStatus.value }}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-icon slot="end" name="calendar"></ion-icon>
          <ion-label position="floating">Date Of Birth<span style="color: Red">*</span> - As Per Aadhar or PAN Card</ion-label>
          <ion-datetime displayFormat="DD MMMM, YYYY" picker-format="DD MMMM YYYY" [min]="startDate" [max]="endDate" formControlName="dobPersonal" [class.is-invalid]="dobPersonal.invalid && dobPersonal.touched" (ionChange)="calculateAge()" (ionBlur)="calculateAge()"></ion-datetime>
          <!-- <div class="text-danger" *ngIf="dobPersonal.invalid && dobPersonal.touched">
                      <small *ngIf="!!dobPersonal.errors?.required">Please enter your Date Of Birth.</small>
                      <small *ngIf="!!registrationDate.errors?.ngbDate">Please enter appropriate Date.</small>
                    </div> -->
        </ion-item>

        <ion-item>
          <ion-label position="floating">Age<span style="color: Red"> *</span></ion-label>
          <ion-input maxlength="2" minlength="2" max="60" min="18" type="number" readOnly="true"
            formControlName="agePersonal"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Mobile No.<span style="color: Red"> *</span></ion-label>
          <ion-input maxlength="10" minlength="10" type="tel" formControlName="mobilePersonal"
            [class.is-invalid]="mobilePersonal.invalid && mobilePersonal.touched" id='personalDetails-mobilePersonal'
            clearInput></ion-input>
          <div class="text-danger" *ngIf="mobilePersonal.invalid && mobilePersonal.touched">
            <small *ngIf="!!mobilePersonal.errors?.required">Please enter your Mobile No.</small>
            <small *ngIf="!!mobilePersonal.errors?.pattern">Please enter appropriate Mobile Number.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Ration Card Number</ion-label>
          <ion-input type="tel" minlength="8" maxlength="12" formControlName="rationCardNumberPersonal" [class.is-invalid]="rationCardNumberPersonal.invalid && rationCardNumberPersonal.touched" id='personalDetails-rationCardNumberPersonal' clearInput autocapitalize="characters"></ion-input>
          <div class="text-danger" *ngIf="rationCardNumberPersonal.invalid && rationCardNumberPersonal.touched">
            <small *ngIf="!!rationCardNumberPersonal.errors?.maxlength">You have exceeded the max length.</small>
            <small *ngIf="!!rationCardNumberPersonal.errors?.minlength">Ration Card No.length should be greater than or equals to 8 characters</small>
            <small *ngIf="!!rationCardNumberPersonal.errors?.pattern && !rationCardNumberPersonal.errors?.maxlength && !rationCardNumberPersonal.errors?.minlength">Please enter appropriate number</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Ration Card Type</ion-label>
          <ion-select formControlName="rationCardTypePersonal" (ionChange)="handleSpecialDropdowns($event)" interface="action-sheet" id='personalDetails-rationCardTypePersonal' [class.is-invalid]="rationCardTypePersonal.invalid && rationCardTypePersonal.touched">
            <ion-select-option *ngFor="let rationCardType of rationCardTypeOptions|keyvalue" value="{{ rationCardType.key }}">{{ rationCardType.value }}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item hidden="true">
          <ion-label position="floating">रेशन कार्ड प्रकार</ion-label>
          <ion-select formControlName="rationCardTypePersonal_mr" interface="action-sheet">
            <ion-select-option *ngFor="let rationCardType of rationCardTypeOptionsMarathi|keyvalue" value="{{ rationCardType.key }}">
              {{ rationCardType.value }}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Category<span style="color: Red"> *</span></ion-label>
          <ion-select required formControlName="categoryPersonal" [class.is-invalid]=" categoryPersonal.invalid && categoryPersonal.touched" id='personalDetails-categoryPersonal' (ionChange)="handleSpecialDropdowns($event)" interface="action-sheet">
            <ion-select-option *ngFor="let category of categoryOptions|keyvalue" value="{{ category.key }}">{{ category.value }} </ion-select-option>
          </ion-select>
          <div class="text-danger" *ngIf="categoryPersonal.invalid && categoryPersonal.touched">
            <small *ngIf="!!categoryPersonal.errors?.required">Please choose your Category.</small>
          </div>
        </ion-item>

        <ion-item hidden="true">
          <ion-label position="floating">वर्गवारी</ion-label>
          <ion-select formControlName="categoryPersonal_mr" (ionChange)="handleSpecialDropdowns($event)"
            interface="action-sheet">
            <ion-select-option *ngFor="let category of categoryOptionsMarathi|keyvalue" value="{{ category.key }}">{{ category.value }}
            </ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="floating">PF/UAN (If available)</ion-label>
          <ion-input [class.is-invalid]="pfOrUanPersonal.invalid && pfOrUanPersonal.touched" type="text" formControlName="pfOrUanPersonal" id='personalDetails-pfOrUanPersonal' maxlength="22" autocapitalize="characters" clearInput>
          </ion-input>
          <div class="text-danger" *ngIf="pfOrUanPersonal.invalid && pfOrUanPersonal.touched">
            <small *ngIf="!!pfOrUanPersonal.errors?.maxlength">You have exceeded the max length.</small>
            <small *ngIf="!!pfOrUanPersonal.errors?.pattern">Please enter appropriate pf</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">
            ESIC Number (If available)
          </ion-label>
          <ion-input maxlength="17" type="tel" formControlName="esicNoPersonal" [class.is-invalid]="
              esicNoPersonal.invalid && esicNoPersonal.touched
            " id='personalDetails-esicNoPersonal' clearInput autocapitalize="characters">
          </ion-input>
          <div class="text-danger" *ngIf="esicNoPersonal.invalid && esicNoPersonal.touched">
            <small *ngIf="!!esicNoPersonal.errors?.maxlength">You have exceeded the max length.</small>
            <small *ngIf="!!esicNoPersonal.errors?.pattern">Please enter appropriate format</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Email (If available)</ion-label>
          <ion-input [class.is-invalid]="emailPersonal.invalid && emailPersonal.touched" type="email"
            formControlName="emailPersonal" id='personalDetails-emailPersonal' clearInput></ion-input>
          <div class="text-danger" *ngIf="emailPersonal.invalid && emailPersonal.touched">
            <small *ngIf="!!emailPersonal.errors">Please enter appropriate email.</small>
          </div>
        </ion-item>

        <ion-item>
          <form [formGroup]="registrationFormGroup.get('personalDetails').get('residentialAddress')">
            <ion-list>
              <ion-list-header style="font-size:20px;">Residential Address(स्थानिक पत्ता)</ion-list-header>

              <ion-item>
                <ion-label position="floating">House No. / Building No.<span style="color: Red">*</span>
                </ion-label>
                <ion-input id="personalDetails-residentialAddress-houseNo" formControlName="houseNo" type="text"
                  maxlength="40" class="transliterate" (ionBlur)="transliterateDirect($event)" [class.is-invalid]="houseNo.invalid && houseNo.touched"
                  clearInput></ion-input>
                <div class="text-danger" *ngIf="houseNo.invalid && houseNo.touched">
                  <small *ngIf="!!houseNo.errors?.required">Please enter your House No./Building No.</small>
                  <small *ngIf="!!houseNo.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating" required>घर क्रमांक / इमारत क्रमांक</ion-label>
                <ion-input formControlName="houseNo_mr" maxlength="40"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Road</ion-label>
                <ion-input formControlName="road" type="text" maxlength="40" class="transliterate" autocapitalize="words"
                  id='personalDetails-residentialAddress-road' [class.is-invalid]="road.invalid && road.touched"
                  class="transliterate" (ionBlur)="transliterateDirect($event)" clearInput></ion-input>
                <div class="text-danger" *ngIf="road.invalid && road.touched">
                  <small *ngIf="!!road.errors?.required">Please enter Road name.</small>
                  <small *ngIf="!!road.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">रास्ता / मार्ग / गल्ली</ion-label>
                <ion-input formControlName="road_mr" maxlength="40"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Area<span style="color: Red"> *</span></ion-label>
                <ion-input formControlName="area" type="text" maxlength="40" class="transliterate" autocapitalize="words"
                  id='personalDetails-residentialAddress-area' [class.is-invalid]="area.invalid && area.touched"
                  class="transliterate" (ionBlur)="transliterateDirect($event)" clearInput></ion-input>
                <div class="text-danger" *ngIf="area.invalid && area.touched">
                  <small *ngIf="!!area.errors?.required">Please enter your Area name.</small>
                  <small *ngIf="!!area.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">विभाग / ठिकाण / क्षेत्र</ion-label>
                <ion-input formControlName="area_mr" maxlength="40"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Town / City<span style="color: Red"> *</span></ion-label>
                <ion-input type="text" maxlength="40" formControlName="city" class="transliterate" autocapitalize="words"
                  id='personalDetails-residentialAddress-city' [class.is-invalid]="city.invalid && city.touched"
                  class="transliterate" (ionBlur)="transliterateDirect($event)" clearInput></ion-input>
                <div class="text-danger" *ngIf="city.invalid && city.touched">
                  <small *ngIf="!!city.errors?.required">Please enter your Town / City.</small>
                  <small *ngIf="!!city.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">गाव / शहर</ion-label>
                <ion-input maxlength="40" formControlName="city_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Important Place / Nearby</ion-label>
                <ion-input [class.is-invalid]="importantPlace.invalid && importantPlace.touched" id='personalDetails-residentialAddress-importantPlace' type="text" maxlength="40"
                  class="transliterate" (ionBlur)="transliterateDirect($event)" formControlName="importantPlace" autocapitalize="words" clearInput></ion-input>
                <div class="text-danger" *ngIf="importantPlace.invalid && importantPlace.touched">
                  <small *ngIf="!!importantPlace.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">महत्वाचे ठिकाण</ion-label>
                <ion-input maxlength="40" formControlName="importantPlace_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating"> State<span style="color: Red">*</span></ion-label>
                <ion-select [class.is-invalid]="state.invalid && state.touched" formControlName="state"
                  class="transliterate" id='personalDetails-residentialAddress-state' interface="action-sheet">
                  <!-- <ion-select-option *ngFor="let eachState of states|keyvalue" [value]="eachState.value">{{ eachState.key }}
                  </ion-select-option> -->
                  <ion-select-option [selected]="true" value="21">MAHARASHTRA</ion-select-option>
                </ion-select>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating"> राज्य </ion-label>
                <ion-input readonly required formControlName="state_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">District<span style="color: Red"> *</span></ion-label>
                <ion-select required formControlName="district"
                  [class.is-invalid]="district.invalid && district.touched"
                  (ionChange)="transliterateDTP($event)" class="transliterate"
                  id='personalDetails-residentialAddress-district' interface="action-sheet" >
                  <ion-select-option *ngFor="let eachDistrict of districts|keyvalue" [value]="eachDistrict.value">
                    {{ eachDistrict.key }}
                  </ion-select-option>
                </ion-select>
                <div class="text-danger" *ngIf="district.invalid && district.touched">
                  <small *ngIf="!!district.errors?.required">Please enter your District.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">जिल्हा</ion-label>
                <ion-input formControlName="district_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Taluka<span style="color: Red"> *</span></ion-label>
                <ion-select required formControlName="taluka" class="transliterate"
                  id='personalDetails-residentialAddress-taluka' (ionChange)="transliterateDTP($event)"
                  [class.is-invalid]="taluka.invalid && taluka.touched" interface="action-sheet">
                  <ion-select-option *ngFor="let eachTaluka of talukasRes | keyvalue" [value]="eachTaluka.value">{{ eachTaluka.key }}
                  </ion-select-option>
                </ion-select>
                <div class="text-danger" *ngIf="taluka.invalid && taluka.touched">
                  <small *ngIf="!!taluka.errors?.required">Please choose your Taluka.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">तालुका </ion-label>
                <ion-input formControlName="taluka_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Post Office<span style="color: red">*</span></ion-label>
                <ion-select required formControlName="postOffice" class="transliterate"
                  [class.is-invalid]="postOffice.invalid && postOffice.touched" (ionChange)="transliterateDTP($event)"
                  id='personalDetails-residentialAddress-postOffice' 
                  interface="action-sheet">
                  <ion-select-option *ngFor="let eachPost of postOfficeArrayRes|keyvalue" [value]="eachPost.value">{{ eachPost.key }}
                  </ion-select-option>
                </ion-select>
                <div class="text-danger" *ngIf="postOffice.invalid && postOffice.touched">
                  <small *ngIf="!!postOffice.errors?.required">Please choose your Post Office.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">पोस्ट ऑफिस</ion-label>
                <ion-input formControlName="postOffice_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Pincode<span style="color: Red">*</span></ion-label>
                <ion-input required type="tel" id='personalDetails-residentialAddress-pincode'
                  [class.is-invalid]="pincode.invalid && pincode.touched" maxlength="6" minlength="6"
                  formControlName="pincode" interface="action-sheet"></ion-input>
                <div class="text-danger" *ngIf="pincode.invalid && pincode.touched">
                  <small *ngIf="!!pincode.errors?.required">Pin Code is required.</small>
                  <small *ngIf="!!pincode.errors?.minlength || !!pincode.errors?.maxlength">Pin Code should be a 6 digit no.</small>
                </div>
              </ion-item>

              <ion-item>
                <ion-label position="floating">STD code</ion-label>
                <ion-input id='personalDetails-residentialAddress-stdcode' type="tel" maxlength="5" minlength="2"
                  formControlName="stdcode"></ion-input>
                <div class="text-danger" *ngIf="stdcode.invalid && stdcode.touched">
                  <small *ngIf="!!stdcode.errors?.minlength">STD Code should be a more than 2 digit no.</small>
                  <small *ngIf="!!stdcode.errors?.maxlength">STD Code should be less than 6 digit no.</small>
                </div>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Landline Phone No</ion-label>
                <ion-input type="tel" maxlength="8" minlength="5" id='personalDetails-residentialAddress-phone'
                  formControlName="phone"></ion-input>
                <div class="text-danger" *ngIf="phone.invalid && phone.touched">
                  <small *ngIf="!!phone.errors?.minlength">Landline Phone should be a more than 4 digit no.</small>
                  <small *ngIf="!!phone.errors?.maxlength">Landlnie Phone should be less than 9 digit no.</small>
                </div>
              </ion-item>
            </ion-list>
          </form>
        </ion-item>

        <ion-item>
          <ion-checkbox formControlName="permanentEqualsResidentialAddress" (ionChange)="copyAddress($event)">
          </ion-checkbox>
          <ion-label>स्थानिक पत्ता व कायमचा पत्ता सारखा असेल तर येथे क्लिक करा / Click
            here to use the same Residential Address as Permanent
            Address</ion-label>
        </ion-item>

        <ion-item>
          <form [formGroup]="
              registrationFormGroup
                .get('personalDetails')
                .get('permanentAddress')
            ">
            <ion-list>
              <ion-list-header style="font-size:20px;">Permanent Address(स्थानिक पत्ता )</ion-list-header>

              <ion-item>
                <ion-label position="floating">House No. / Building No.<span style="color: Red">*</span>
                </ion-label>
                <ion-input required id="personalDetails-permanentAddress-houseNo"
                  [class.is-invalid]="houseNoPer.invalid && houseNoPer.touched" formControlName="houseNo" autocapitalize="words"
                  class="transliterate" (ionBlur)="transliterateDirect($event)" id='personalDetails-permanentAddress-houseNo' type="text" maxlength="40" clearInput></ion-input>
                <div class="text-danger" *ngIf="houseNoPer.invalid && houseNoPer.touched">
                  <small *ngIf="!!houseNoPer.errors?.required">Please enter your House No./Building No.</small>
                  <small *ngIf="!!houseNoPer.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">घर क्रमांक / इमारत क्रमांक</ion-label>
                <ion-input formControlName="houseNo_mr" maxlength="40"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Road</ion-label>
                <ion-input formControlName="road" type="text" maxlength="40" autocapitalize="words"
                  id='personalDetails-permanentAddress-road' [class.is-invalid]="roadPer.invalid && roadPer.touched"
                  class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
                <div class="text-danger" *ngIf="roadPer.invalid && roadPer.touched">
                  <small *ngIf="!!roadPer.errors?.required">Please enter Road name.</small>
                  <small *ngIf="!!roadPer.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">रास्ता / मार्ग / गल्ली</ion-label>
                <ion-input formControlName="road_mr" maxlength="40"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Area<span style="color: Red">*</span></ion-label>
                <ion-input required formControlName="area" id='personalDetails-permanentAddress-area' type="text" maxlength="40"
                  [class.is-invalid]="areaPer.invalid && areaPer.touched" class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
                <div class="text-danger" *ngIf="areaPer.invalid && areaPer.touched">
                  <small *ngIf="!!areaPer.errors?.required">Please enter your Area name.</small>
                  <small *ngIf="!!areaPer.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">विभाग / ठिकाण / क्षेत्र</ion-label>
                <ion-input formControlName="area_mr" maxlength="40"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Town / City<span style="color: Red">*</span></ion-label>
                <ion-input required  id='personalDetails-permanentAddress-city' type="text" maxlength="40"
                  formControlName="city" [class.is-invalid]="cityPer.invalid && cityPer.touched"  class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
                <div class="text-danger" *ngIf="cityPer.invalid && cityPer.touched">
                  <small *ngIf="!!cityPer.errors?.required">Please enter your Town / City.</small>
                  <small *ngIf="!!cityPer.errors?.maxlength">You have exceeded the max length.</small>
                  <small *ngIf="!!cityPer.errors?.pattern">Please enter appropriate city name.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">गाव / शहर</ion-label>
                <ion-input maxlength="40" formControlName="city_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Important Place / Nearby</ion-label>
                <ion-input  type="text" maxlength="40" formControlName="importantPlace" [class.is-invalid]="importantPlacePer.invalid && importantPlacePer.touched"  class="transliterate" (ionBlur)="transliterateDirect($event)" id='personalDetails-permanentAddress-importantPlace' autocapitalize="words" clearInput></ion-input>
                <div class="text-danger" *ngIf="importantPlacePer.invalid && importantPlacePer.touched">
                  <small *ngIf="!!importantPlacePer.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">महत्वाचे ठिकाण</ion-label>
                <ion-input maxlength="40" formControlName="importantPlace_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating"> State<span style="color: Red"> *</span> </ion-label>
                <ion-select required class=" transliterate" id='personalDetails-permanentAddress-state'
                  [class.is-invalid]="state.invalid && state.touched" formControlName="state" (ionChange)="transliterateDTP($event)" interface="action-sheet">
                  <ion-select-option *ngFor="let eachState of states|keyvalue" [value]="eachState.value">{{eachState.key}}</ion-select-option>
                </ion-select>
                <div class="text-danger" *ngIf="state.invalid && state.touched">
                  <small *ngIf="!!statePer.errors?.required">Please choose your State.</small>
                </div>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating"> राज्य </ion-label>
                <ion-input required formControlName="state_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">District<span style="color: Red"> *</span></ion-label>
                <ion-select *ngIf="!elseStateFlag" required interface="action-sheet" formControlName="district"
                  [class.is-invalid]="districtPer.invalid && districtPer.touched"  class="transliterate"
                  id='personalDetails-permanentAddress-district' (ionChange)="transliterateDTP($event)">
                  <ion-select-option *ngFor="let eachDistrict of districts|keyvalue" [value]="eachDistrict.key">
                    {{ eachDistrict.key }}
                  </ion-select-option>
                </ion-select>
                <ion-input *ngIf="elseStateFlag" formControlName="district" [class.is-invalid]="districtPer.invalid && districtPer.touched" id='personalDetails-permanentAddress-district' class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize clearInput></ion-input>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">जिल्हा</ion-label>
                <ion-input formControlName="district_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Taluka<span style="color: Red"> *</span></ion-label>
                <ion-select *ngIf="!elseStateFlag" required interface="action-sheet" (ionChange)="transliterateDTP($event)"
                  class="transliterate" id='personalDetails-permanentAddress-taluka' formControlName="taluka"
                  [class.is-invalid]="taluka.invalid && taluka.touched">
                  <ion-select-option *ngFor="let eachTaluka of talukasPer|keyvalue" [value]="eachTaluka.key">{{ eachTaluka.key }}
                  </ion-select-option>
                </ion-select>
                <ion-input *ngIf="elseStateFlag"  class="transliterate" id='personalDetails-permanentAddress-taluka' formControlName="taluka" (ionBlur)="transliterateDirect($event)"
                  [class.is-invalid]="taluka.invalid && taluka.touched" autocapitalize clearInput>
                </ion-input>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">तालुका </ion-label>
                <ion-input formControlName="taluka_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Post Office<span style="color: Red">*</span></ion-label>
                <ion-select *ngIf="!elseStateFlag" required interface="action-sheet" (ionChange)="transliterateDTP($event)"
                  class="transliterate" id='personalDetails-permanentAddress-postOffice' formControlName="postOffice"
                  [class.is-invalid]="postOffice.invalid && postOffice.touched">
                  <ion-select-option *ngFor="let eachPost of postOfficeArrayPer|keyvalue" [value]="eachPost.key">{{ eachPost.key }}
                  </ion-select-option>
                </ion-select>
                <ion-input *ngIf="elseStateFlag" class="transliterate" id='personalDetails-permanentAddress-postOffice' formControlName="postOffice" (ionBlur)="transliterateDirect($event)"
                  [class.is-invalid]="postOffice.invalid && postOffice.touched" autocapitalize="words" clearInput>

                </ion-input>
              </ion-item>

              <ion-item hidden="true">
                <ion-label position="floating">पोस्ट ऑफिस</ion-label>
                <ion-input formControlName="postOffice_mr"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Pincode<span style="color: Red">*</span></ion-label>
                <ion-input required type="tel" [class.is-invalid]="pincode.invalid && pincode.touched" maxlength="6"
                  minlength="6" formControlName="pincode" id='personalDetails-permanentAddress-pincode'></ion-input>
                <div class="text-danger" *ngIf="pincode.invalid && pincode.touched">
                  <small *ngIf="!!pincode.errors?.required">Pin Code is required.</small>
                  <small *ngIf="!!pincode.errors?.minlength">Pin Code should be a 6 digit no.</small>
                </div>
              </ion-item>

              <ion-item>
                <ion-label position="floating">STD code</ion-label>
                <ion-input type="tel" maxlength="5" minlength="2" formControlName="stdcode"
                  id='personalDetails-permanentAddress-stdcode'></ion-input>
                <div class="text-danger" *ngIf="stdcode.invalid && stdcode.touched">
                  <small *ngIf="!!stdcodePer.errors?.minlength">STD Code should be a more than 2 digit no.</small>
                  <small *ngIf="!!stdcodePer.errors?.maxlength">STD Code should be less than 6 digit no.</small>
                  <small *ngIf="!!stdcodePer.errors?.pattern">Only use numbers.</small>
                </div>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Landline Phone No</ion-label>
                <ion-input type="tel" id='personalDetails-permanentAddress-phone' maxlength="8" minlength="5" 
                  formControlName="phone"></ion-input>
                <div class="text-danger" *ngIf="phone.invalid && phone.touched">
                  <small *ngIf="!!phonePer.errors?.minlength">Landline Phone should be a more than 4 digit no.</small>
                  <small *ngIf="!!phonePer.errors?.maxlength">Landlnie Phone should be less than 9 digit no.</small>
                </div>
              </ion-item>
            </ion-list>
          </form>
        </ion-item>
      </ion-list>
    </form>

    <form [formGroup]="registrationFormGroup.get('familyDetails')">
        <ion-list>
          <ion-list-header style="font-size:20px;">Family Details</ion-list-header>
          <div style="padding: 5%; overflow-x: scroll">
          <ion-grid style='width: 1511px;' border="1">
            <ion-row>
              <!-- <ion-col style="width: 15px"  *ngFor="let familyHeader of familyHeaderOptions">
                <ion-card-header>{{familyHeader}}</ion-card-header>
              </ion-col> -->
              <ion-col style="width: 15px">
              <ion-card-header>SNo.</ion-card-header>
              </ion-col>
              <ion-col style="width: 15px;margin-left: -59px;">
                <ion-card-header>Edit</ion-card-header>
              </ion-col>
              <ion-col style="width: 15px;">
                <ion-card-header>First Name<span style="color: Red">*</span></ion-card-header>
              </ion-col>
              <ion-col style="width: 15px">
              <ion-card-header>Surname<span style="color: Red">*</span></ion-card-header>
              </ion-col>
              <ion-col style="width: 15px">
              <ion-card-header>Father/ Husband Name</ion-card-header>
              </ion-col>
              <ion-col style="text-align: center">
                <ion-card-header style="width: 215px">DOB</ion-card-header>
              </ion-col>
              <ion-col style="width: 10px">
                <ion-card-header>Age (year)</ion-card-header>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-card-header>Relation<span style="color: Red">*</span></ion-card-header>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-card-header>Profession</ion-card-header>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-card-header>Education<span style="color: Red">*</span></ion-card-header>
              </ion-col>
              <ion-col>
                <ion-card-header> Aadhar No. </ion-card-header>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-card-header>Nominee</ion-card-header>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-card-header>Delete</ion-card-header>
              </ion-col>
            </ion-row>
            <ng-container *ngFor="let each of registrationFormGroup.get('familyDetails')['controls']; let i = index">
            <ion-row [formGroupName]="i" align-items-center>
              <ion-col style="width: 15px">
                <ion-card-header>{{i + 1}}.</ion-card-header>
              </ion-col>
              <ion-col>
                <ion-fab style="margin-top: -25px;margin-left: -57px">
                  <ion-fab-button style="height: 45px;width: 45px;" (click)="editFamilyDetail(i)">
                    <ion-icon name="create"></ion-icon>
                  </ion-fab-button>
                </ion-fab>
              </ion-col>
              <ion-col style="width: 15px ;margin-left: -71px;">
                <ion-item>
                  <ion-input formControlName='firstNameFamily' id='familyDetails-{{i}}-firstNameFamily' class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input><br>
                </ion-item>
                <ion-input *ngIf="firstNameFamily_mr.value" formControlName='firstNameFamily_mr' readonly></ion-input>
                <div class="text-danger" *ngIf="registrationFormGroup.get('familyDetails')['controls'][i].get('firstNameFamily').invalid && registrationFormGroup.get('familyDetails')['controls'][i].get('firstNameFamily').touched">
                  <small *ngIf="!!firstNameFamily.errors?.required">Please enter your First Name.</small>
                  <small *ngIf="!!firstNameFamily.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-item>
                <ion-input maxlength="20" formControlName="surname" id='familyDetails-{{i}}-surname' class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
                </ion-item>
                <ion-input *ngIf="surname_mr.value" formControlName="surname_mr" readonly> </ion-input>
                <div class="text-danger" *ngIf="registrationFormGroup.get('familyDetails')['controls'][i].get('surname').invalid && registrationFormGroup.get('familyDetails')['controls'][i].get('surname').touched">
                  <small *ngIf="!!surname.errors?.required">Please enter your surname.</small>
                  <small *ngIf="!!surname.errors?.maxlength">You have exceeded the max length.</small>
                </div>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-item>
                <ion-input maxlength="20" formControlName="fatherOrHusbandName" id='familyDetails-{{i}}-fatherOrHusbandName' class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
                </ion-item>
                <ion-input *ngIf="fatherOrHusbandName_mr.value" formControlName="fatherOrHusbandName_mr" readonly></ion-input>
                <div class="text-danger" *ngIf="registrationFormGroup.get('familyDetails')['controls'][i].get('fatherOrHusbandName').invalid && registrationFormGroup.get('familyDetails')['controls'][i].get('fatherOrHusbandName').touched">
                  <small *ngIf="!!fatherOrHusbandName.errors?.pattern">Please enter appropriate name.</small>
                </div>
              </ion-col>

              <ion-col >    
                <ion-item style="width: 225px;">
                  <ion-icon  name="calendar"></ion-icon>
                  <ion-datetime [readonly]='i===0' displayFormat="DD MMMM, YYYY" picker-format="DD MMMM YYYY" [max]="maxTodaysDate" id='familyDetails-{{i}}-dobFamily' formControlName="dobFamily" (ionChange)="calculateAgeForFamilyDetails(i)">
                  </ion-datetime>
                  </ion-item>
              </ion-col>
              <ion-col >
                <ion-item>
                    <ion-input maxlength="2" minlength="2" max="60" min="18" type="number" formControlName="ageFamily" id='familyDetails-{{i}}-ageFamily' readonly ></ion-input>
                </ion-item>
              </ion-col>
              <ion-col style="width: 15px">
                  <ion-select interface="action-sheet" formControlName="relation" (ionChange)="handleSpecialDropdowns($event)" id='familyDetails-{{i}}-relation'>
                    <ion-select-option *ngFor="let familyRelation of familyRelationOptions|keyvalue" value="{{familyRelation.key}}">{{familyRelation.value}}</ion-select-option>
                  </ion-select>
                  <div class="text-danger" *ngIf="registrationFormGroup.get('familyDetails')['controls'][i].get('relation').invalid && registrationFormGroup.get('familyDetails')['controls'][i].get('relation').touched">
                    <small *ngIf="!!relation.errors?.required">Please choose the relation.</small>
                  </div>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-item>
                  <ion-input maxlength="20" id='familyDetails-{{i}}-profession' formControlName="profession"class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
                  </ion-item> 
                  <ion-input *ngIf="profession_mr.value" formControlName="profession_mr" readonly></ion-input>
                  <div class="text-danger" *ngIf="registrationFormGroup.get('familyDetails')['controls'][i].get('profession').invalid && registrationFormGroup.get('familyDetails')['controls'][i].get('profession').touched">
                    <small *ngIf="!!profession.errors?.maxlength">You have exceded the maxlength.</small>
                    <small *ngIf="!!profession.errors?.pattern">Please enter appropriate profession name.</small>
                  </div>
              </ion-col>
              <ion-col style="width: 15px">
                <ion-select interface="action-sheet" formControlName="education" (ionChange)="handleSpecialDropdowns($event)" id='familyDetails-{{i}}-education'>
                  <ion-select-option *ngFor="let education of educationOptions|keyvalue" value={{education.key}}>{{education.value}}</ion-select-option>
                </ion-select>
                <div class="text-danger" *ngIf="registrationFormGroup.get('familyDetails')['controls'][i].get('education').invalid && registrationFormGroup.get('familyDetails')['controls'][i].get('education').touched">
                  <small *ngIf="!!education.errors?.required">Please choose the education</small>
                </div>
              </ion-col>
              <ion-col style="width:15px">
                <ion-item>
                  <ion-input type="tel" maxlength="16" minlength="16" type="tel" formControlName="aadharNoFamily" id='familyDetails-{{i}}-aadharNoFamily' clearInput></ion-input>
                </ion-item>
                <div class="text-danger" *ngIf="registrationFormGroup.get('familyDetails')['controls'][i].get('aadharNoFamily').invalid && registrationFormGroup.get('familyDetails')['controls'][i].get('aadharNoFamily').touched" >
                  <small *ngIf="!!aadharNoFamily.errors?.pattern">Please enter appropriate aadhar number.</small>
                </div>
              </ion-col>
              <ion-col style="width: 15px; text-align: center;">
                <input type="radio" [attr.disabled]="i === 0 || null" formControlName="nominee" (change)="applyNominee(i)" [value]="'yes'">
              </ion-col>
              <ion-col>
                <ion-fab  horizontal="end" style="margin-top: -36px;margin-right: 50px;">
                  <ion-fab-button style="height: 45px;width: 45px;" (click)="deleteFamilyDetail(i)">
                  <ion-icon name="close"></ion-icon>
                  </ion-fab-button>
                </ion-fab>
              </ion-col>
            </ion-row>
            </ng-container>
          </ion-grid>
          </div>

          <ion-item margin-bottom>
            <ion-button  (click)="addMoreFamilyDetails()">Add More </ion-button>
          </ion-item>
        </ion-list>
      </form>
      
    <form [formGroup]="registrationFormGroup.get('bankDetails')">
      <ion-list>
        <ion-list-header style="font-size:20px;">
          Bank account details / documents required<br />
          (बँक खात्याचा तपशील / आवश्यक असलेली कागदपत्रे)
        </ion-list-header>

        <ion-item>
          <ion-label position="floating">IFSC Code<span style="color: Red">*</span> </ion-label>
          <ion-input type="text" formControlName="ifscCode" [class.is-invalid]="ifscCode.invalid && ifscCode.touched" clearInput type="text" maxlength="11" minlength="11" autocapitalize="characters"></ion-input>
          <ion-button (click)="searchByIfscCode()">Search</ion-button>
          <div class="text-danger" *ngIf="ifscCode.invalid && ifscCode.touched">
            <small *ngIf="!!ifscCode.errors?.required">Please enter IFSC code.</small>
            <small *ngIf="!!ifscCode.errors?.pattern">Please enter appropriate IFSC code.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Bank Name<span style="color: Red">*</span></ion-label>
          <ion-input [readonly]="isIfscCodeFound" formControlName="bankName" [class.is-invalid]="bankName.invalid && bankName.touched"></ion-input>
            <div class="text-danger" *ngIf="bankName.invalid && bankName.touched">
              <small *ngIf="!!bankName.errors?.required">Please enter Bank name.</small>
              <small *ngIf="!!bankName.errors?.maxlength">Please enter appropriate Bank Name.</small>
            </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Bank Branch<span style="color: Red">*</span></ion-label>
          <ion-input [readonly]="isIfscCodeFound" formControlName="bankBranch" [class.is-invalid]="bankBranch.invalid && bankBranch.touched"></ion-input>
          <div class="text-danger" *ngIf="bankBranch.invalid && bankBranch.touched">
            <small *ngIf="!!bankBranch.errors?.required">Please enter Bank Branch.</small>
            <small *ngIf="!!bankBranch.errors?.maxlength">Please enter appropriate Bank Branch.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Bank Address<span style="color: Red">*</span></ion-label>
          <ion-input [readonly]="isIfscCodeFound" formControlName="bankAddress" [class.is-invalid]="bankAddress.invalid && bankAddress.touched"></ion-input>
          <div class="text-danger" *ngIf="bankAddress.invalid && bankAddress.touched">
            <small *ngIf="!!bankAddress.errors?.required">Please enter Bank Address.</small>
            <small *ngIf="!!bankAddress.errors?.maxlength">Please enter appropriate Bank Address.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">MICR Code</ion-label>
          <ion-input maxlength="9" type="tel" formControlName="micrCode" id='bankDetails-micrCode' [class.is-invalid]="micrCode.invalid && micrCode.touched"></ion-input>
          <div class="text-danger" *ngIf="micrCode.invalid && micrCode.touched">
            <small *ngIf="!!micrCode.errors?.pattern">Please enter appropriate MICR code.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Account No.<span style="color: Red">*</span></ion-label>
          <ion-input minlength="9" maxlength="18" type="tel" formControlName="accountNumber"
            [class.is-invalid]="accountNumber.invalid && accountNumber.touched" id='bankDetails-accountNumber'>
          </ion-input>
          <div class="text-danger" *ngIf="accountNumber.invalid && accountNumber.touched">
            <small *ngIf="!!accountNumber.errors?.required">Please enter your Account no.</small>
            <small *ngIf="!!accountNumber.errors?.pattern">Please enter appropriate Account no.</small>
          </div>
        </ion-item>
      </ion-list>
    </form>

    <form [formGroup]="registrationFormGroup.get('employerDetails')">
      <ion-list>
        <ion-list-header style="font-size:20px;">Employer Details</ion-list-header>

        <ion-item>
          <ion-label position="floating">Name of Contractor/Developer/Company<span style="color: Red">*</span></ion-label>
          <ion-input class="transliterate" formControlName="contractorNameEmp" [class.is-invalid]="contractorNameEmp.invalid && contractorNameEmp.touched" type="text" maxlength="60" id='employerDetails-contractorNameEmp' class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words"  clearInput></ion-input>
          <div class="text-danger" *ngIf="contractorNameEmp.invalid && contractorNameEmp.touched">
            <small *ngIf="!!contractorNameEmp.errors?.required">Please enter Name of contactor.</small>
            <small *ngIf="!!contractorNameEmp.errors?.pattern">Please enter appropriate name.</small>
          </div>
        </ion-item>

        <ion-item *ngIf="contractorNameEmp_mr.value">
          <ion-label>{{contractorNameEmp_mr.value}}</ion-label>
        </ion-item>


        <ion-item>
          <ion-label position="floating">Contractor company Name<span style="color: Red">*</span></ion-label>
          <ion-input class="transliterate" maxlength="40" id='employerDetails-contractorCompanyNameEmp' formControlName="contractorCompanyNameEmp" [class.is-invalid]="contractorCompanyNameEmp.invalid && contractorCompanyNameEmp.touched" class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
          <div class="text-danger" *ngIf="contractorCompanyNameEmp.invalid && contractorCompanyNameEmp.touched">
            <small *ngIf="!!contractorCompanyNameEmp.errors?.required">Please enter Name of company.</small>
            <small *ngIf="!!contractorCompanyNameEmp.errors?.maxlength">You have exceeded max length.</small>
            <small *ngIf="!!contractorCompanyNameEmp.errors?.pattern">Please enter appropriate name.</small>
          </div>
        </ion-item>

          <ion-item *ngIf="contractorCompanyNameEmp_mr.value">
          <ion-label>{{contractorCompanyNameEmp_mr.value}}</ion-label>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Contractor Phone/Mobile number<span style="color: Red">*</span></ion-label>
          <ion-input type="tel" maxlength="10" formControlName="contractorPhoneEmp" [class.is-invalid]="contractorPhoneEmp.invalid && contractorPhoneEmp.touched" id='employerDetails-contractorPhoneEmp' clearInput></ion-input>
          <div class="text-danger" *ngIf="contractorPhoneEmp.invalid && contractorPhoneEmp.touched">
            <small *ngIf="!!contractorPhoneEmp.errors?.required">Please enter your Phone/Mobile number.</small>
            <small *ngIf="!!contractorPhoneEmp.errors?.pattern">Please enter appropriate Phone/Mobile number.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Workplace<span style="color: Red">*</span></ion-label>
          <ion-input class="transliterate" type="text" maxlength="50" [class.is-invalid]="workPlaceEmp.invalid && workPlaceEmp.touched" formControlName="workPlaceEmp" id='employerDetails-workPlaceEmp' class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
          <div class="text-danger" *ngIf="workPlaceEmp.invalid && workPlaceEmp.touched">
            <small *ngIf="!!workPlaceEmp.errors?.required">Please enter workplace</small>
            <small *ngIf="!!workPlaceEmp.errors?.maxlength">You have exceeded max length.</small>
          </div>
        </ion-item>

        <ion-item *ngIf="workPlaceEmp_mr.value">
          <ion-label>{{workPlaceEmp_mr.value}}</ion-label>
        </ion-item>

        <ion-item>
          <ion-label position="floating">District<span style="color: Red">*</span></ion-label>
          <ion-select interface="action-sheet" formControlName="districtEmp" id='employerDetails-districtEmp' [class.is-invalid]="districtEmp.invalid && districtEmp.touched"(ionChange)="transliterateDTP($event)" class="transliterate">
            <ion-select-option *ngFor="let district of districts|keyvalue" [value]="district.value">{{ district.key }}</ion-select-option>
          </ion-select>
          <div class="text-danger" *ngIf="districtEmp.invalid && districtEmp.touched">
            <small *ngIf="!!districtEmp.errors?.required">Please choose District.</small>
          </div>
        </ion-item>

        <ion-item hidden="true">
          <ion-label position="floating">जिल्हा</ion-label>
          <ion-input formControlName="districtEmp_mr"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Taluka<span style="color: Red">*</span></ion-label>
          <ion-select required id='employerDetails-talukaEmp' formControlName="talukaEmp"
            [class.is-invalid]="talukaEmp.invalid && talukaEmp.touched" interface="action-sheet" (ionChange)="transliterateDTP($event)" class="transliterate">
            <ion-select-option *ngFor="let eachTaluka of talukasEmp|keyvalue" [value]="eachTaluka.value">{{ eachTaluka.key }}
            </ion-select-option>
          </ion-select>
          <div class="text-danger" *ngIf="talukaEmp.invalid && talukaEmp.touched">
            <small *ngIf="!!talukaEmp.errors?.required">Please choose Taluka.</small>
          </div>
        </ion-item>

        <ion-item hidden="true">
          <ion-label position="floating">तालुका</ion-label>
          <ion-input formControlName="talukaEmp_mr"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Town/City<span style="color: Red">*</span></ion-label>
          <ion-input class="transliterate" id='employerDetails-townEmp' formControlName="townEmp" [class.is-invalid]="townEmp.invalid && townEmp.touched" class="transliterate" (ionBlur)="transliterateDirect($event)" autocapitalize="words" clearInput></ion-input>
          <div class="text-danger" *ngIf="townEmp.invalid && townEmp.touched">
            <small *ngIf="!!townEmp.errors?.required">Please enter your Town/City.</small>
          </div>
        </ion-item>

        <ion-item hidden="true">
          <ion-label position="floating">गाव / शहर</ion-label>
          <ion-input formControlName="townEmp_mr" [class.is-invalid]="townEmp_mr.invalid && townEmp_mr.touched">
          </ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Pincode<span style="color: Red">*</span></ion-label>
          <ion-input type="tel" formControlName="pinCodeEmp" minlength="6" maxlength="6"  [class.is-invalid]="pinCodeEmp.invalid && pinCodeEmp.touched" id='employerDetails-pinCodeEmp' clearInput></ion-input>
          <div class="text-danger" *ngIf="pinCodeEmp.invalid && pinCodeEmp.touched">
            <small *ngIf="!!pinCodeEmp.errors?.required">Please enter your Pincode.</small>
            <small *ngIf="!!pinCodeEmp.errors?.pattern">Please enter appropriate Pincode.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-icon slot="end" name="calendar"></ion-icon>
          <ion-label position="floating">Appointment Date<span style="color: Red">*</span></ion-label>
          <ion-datetime displayFormat="DD MMMM, YYYY" picker-format="DD MMMM YYYY" min="1990-01-01" [max]="maxAppointmentDate" [min]="minAppointmentDate" id='employerDetails-appointmentDateEmp' formControlName="appointmentDateEmp" [class.is-invalid]=" appointmentDateEmp.invalid && appointmentDateEmp.touched"></ion-datetime>
            <div class="text-danger" *ngIf="appointmentDateEmp.invalid && appointmentDateEmp.touched">
              <small *ngIf="!!appointmentDateEmp.errors?.required">Please enter your Appointment Date.</small>
            </div>
        </ion-item>

        <ion-item>
          <ion-icon slot="end" name="calendar"></ion-icon>
          <ion-label position="floating">Dispatch Date<span style="color: Red">*</span></ion-label>
          <ion-datetime formControlName="dispatchDateEmp" displayFormat="DD MMMM, YYYY" picker-format="DD MMMM YYYY" [min]="minFromDate" [max]="maxTodaysDate"  id='employerDetails-dispatchDateEmp' ></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Remuneration per day<span style="color: Red">*</span></ion-label>
          <ion-input formControlName="remunerationPerDayEmp" maxlength="8" type="tel" [class.is-invalid]="remunerationPerDayEmp.invalid && remunerationPerDayEmp.touched" id='employerDetails-remunerationPerDayEmp' clearInput></ion-input>
          <div class="text-danger" *ngIf="remunerationPerDayEmp.invalid && remunerationPerDayEmp.touched">
            <small *ngIf="!!remunerationPerDayEmp.errors?.required">Please enter your Remuneration per day.</small>
          </div>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Nature of work<span style="color: Red">*</span></ion-label>
          <ion-select formControlName="natureOfWorkEmp" [class.is-invalid]="natureOfWorkEmp.invalid && natureOfWorkEmp.touched" id='employerDetails-natureOfWorkEmp' (ionChange)="handleSpecialDropdowns($event)" interface="action-sheet">
            <ion-select-option class="ion-padding-top ion-padding-bottom" text-justify *ngFor="let natureOfWork of natureOfWorkOptions|keyvalue" value="{{ natureOfWork.key }}">{{ natureOfWork.value }}</ion-select-option>
          </ion-select>
          <div class="text-danger" *ngIf="!!natureOfWorkEmp.invalid && natureOfWorkEmp.touched">
            <small *ngIf="!!natureOfWorkEmp.errors?.required">Please choose your Nature of work.</small>
            <small *ngIf="!!natureOfWorkEmp.errors?.maxlength">You have exceeded max length.</small>
          </div>
        </ion-item>

      </ion-list>
    </form>

      <form [formGroup]="registrationFormGroup.get('employerWorkDetails')">
        <ion-list>
          <ion-list-header style="font-size:20px;">Details of the person who issued the 90 days working
          certificate</ion-list-header>
          <div style="padding: 5%; overflow-x: scroll">
            <ion-grid style='width: 1511px;' border="1">
              <ion-row *ngIf="appointmentDateEmp.value===null || dispatchDateEmp.value ===null">
                <ion-col>
                  <small style="color:red;">Please choose the appointment and dispatch date first.</small>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col style="width: 15px" >
                  <ion-card-header>SNo.</ion-card-header>
                </ion-col>
                <ion-col  style="width: 15px;margin-left: -71px;">
                  <ion-card-header>Edit</ion-card-header>
                </ion-col>
                <ion-col style="width: 15px;margin-left: -71px;" >
                  <ion-card-header>Type of Issuer<span style="color: Red">*</span></ion-card-header>
                </ion-col>
                <ion-col style="width: 15px" >
                  <ion-card-header>Full Name<span style="color: Red">*</span></ion-card-header>
                </ion-col>
                <ion-col style="width: 15px" >
                  <ion-card-header>Issuer Reg. No.</ion-card-header>
                </ion-col>
                <ion-col style="width: 15px" >
                  <ion-card-header>Registration Type<span style="color: Red">*</span></ion-card-header>
                </ion-col>
                <ion-col style="width: 15px" >
                  <ion-card-header>Mobile number<span style="color: Red">*</span></ion-card-header>
                </ion-col>
                <ion-col style="width: 15px" >
                  <ion-card-header>Document Ref.No</ion-card-header>
                </ion-col>
                <ion-col style="width: 15px" >
                  <ion-card-header>From Date<span style="color: Red">*</span></ion-card-header>
                </ion-col>
                <ion-col style="width: 15px">
                  <ion-card-header >To Date<span style="color: Red">*</span></ion-card-header>
                </ion-col>                
                <ion-col style="width: 15px">
                  <ion-card-header>Delete</ion-card-header>
                </ion-col>
              </ion-row>
              <ng-container *ngFor="let each of registrationFormGroup.get('employerWorkDetails')['controls']; let i = index">
                <ion-row [formGroupName]="i">
                  <ion-col style="width: 15px" >
                    <ion-card-header>{{i + 1}}.</ion-card-header>
                  </ion-col>
                  <ion-col>
                    <ion-fab style="margin-top: -25px;margin-left: -57px">
                      <ion-fab-button style="height: 45px;width: 45px;" (click)="editWorkerDetail(i)">
                        <ion-icon name="create"></ion-icon>
                      </ion-fab-button>
                    </ion-fab>
                  </ion-col>
                  <ion-col style="width: 15px;margin-left: -71px;" >
                      <ion-select [class.is-invalid]="typeOfEmployerEmp.invalid && typeOfEmployerEmp.touched" interface="action-sheet" formControlName="typeOfEmployerEmp" id='employerWorkDetails-{{i}}-typeOfEmployerEmp' (ionChange)="handleSpecialDropdowns($event)">
                        <ion-select-option *ngFor="let typeOfIssuer of typeOfIssuerOptions|keyvalue" value="{{ typeOfIssuer.key }}">{{ typeOfIssuer.value }}</ion-select-option>
                      </ion-select>
                      <div class="text-danger" *ngIf="typeOfEmployerEmp.invalid && typeOfEmployerEmp.touched">
                        <small *ngIf="!!typeOfEmployerEmp.errors?.required">Please choose Type of employer.</small>
                      </div>
                  </ion-col>
                  <ion-col style="width: 15px">
                      <ion-item>
                        <ion-input id='employerWorkDetails-{{i}}-fullNameOfIssuerEmp' formControlName="fullNameOfIssuerEmp" class="transliterate" (ionBlur)="transliterateDirect($event)" [class.is-invalid]="fullNameOfIssuerEmp.invalid && fullNameOfIssuerEmp.touched" autocapitalize="words" clearInput></ion-input>
                      </ion-item>
                      <div class="text-danger" *ngIf="fullNameOfIssuerEmp.invalid && fullNameOfIssuerEmp.touched">
                            <small *ngIf="!!fullNameOfIssuerEmp.errors?.required">Please enter full name.</small>
                            <small *ngIf="!!fullNameOfIssuerEmp.errors?.pattern">Please enter appropriate name.</small>
                      </div>
                  </ion-col>
                  <ion-col style="width: 15px">
                      <ion-item>
                        <ion-input type="tel" maxlength="12" formControlName="registrationNumberEmp" id='employerWorkDetails-{{i}}-registrationNumberEmp' clearInput></ion-input>
                      </ion-item>
                  </ion-col>
                  <ion-col style="width: 15px">
                    <ion-select formControlName="registrationTypeEmp" [class.is-invalid]="registrationTypeEmp.invalid && registrationTypeEmp.touched" interface="action-sheet" id='employerWorkDetails-{{i}}-registrationTypeEmp' (ionChange)="handleSpecialDropdowns($event)">
                      <ion-select-option *ngFor="let registrationType of registrationTypeOptions|keyvalue" value="{{ registrationType.key }}"> {{ registrationType.value }}</ion-select-option>
                    </ion-select>
                    <div class="text-danger" *ngIf="registrationTypeEmp.invalid && registrationTypeEmp.touched">
                      <small *ngIf="!!registrationTypeEmp.errors?.required">Please choose registration type.</small>
                    </div>
                  </ion-col>
                  <ion-col style="width: 15px">
                      <ion-item> 
                        <ion-input type="tel"  maxlength="10" minlength="10" formControlName="mobileNumberOfIssuerEmp" [class.is-invalid]="mobileNumberOfIssuerEmp.invalid && mobileNumberOfIssuerEmp.touched" 
                      id='employerWorkDetails-{{i}}-mobileNumberOfIssuerEmp' clearInput></ion-input>
                      </ion-item>
                      <div class="text-danger" *ngIf="mobileNumberOfIssuerEmp.invalid && mobileNumberOfIssuerEmp.touched">
                        <small *ngIf="!!mobileNumberOfIssuerEmp.errors?.required">Please enter your Mobile number.</small>
                        <small *ngIf="!!mobileNumberOfIssuerEmp.errors?.pattern">Please enter appropriate Mobile number.</small>
                      </div>
                  </ion-col>
                  <ion-col style="width: 15px">
                    <ion-item>
                        <ion-input type="tel" maxlength="20" formControlName="documentRefNumberEmp" [class.is-invalid]="documentRefNumberEmp.invalid && documentRefNumberEmp.touched" id='employerWorkDetails-{{i}}-documentRefNumberEmp' clearInput></ion-input>
                    </ion-item>
                    <div class="text-danger" *ngIf="documentRefNumberEmp.invalid && documentRefNumberEmp.touched">
                      <small *ngIf="documentRefNumberEmp.errors?.required">Please enter Dispatch number.</small>
                      <small *ngIf="documentRefNumberEmp.errors?.maxlength">You have exceeded max length.</small>
                    </div>
                  </ion-col>
                  <ion-col style="width: 15px">
                      <ion-item >
                        <ion-icon  name="calendar"></ion-icon>
                      <ion-datetime [readonly]="appointmentDateEmp.value===null || dispatchDateEmp.value ===null" displayFormat="DD MMMM, YYYY" picker-format="DD MMMM YYYY"   id='employerWorkDetails-{{i}}-fromDateEmp' (ionChange)="calculateDayForWorkDetails(i)"  formControlName="fromDateEmp" [min]="minFDate(i)" [max]="maxFDate(i)"></ion-datetime>
                      </ion-item>
                      <div class="text-danger" *ngIf="fromDateEmp.invalid && fromDateEmp.touched" >
                        <small *ngIf="!!fromDateEmp.errors?.required">Please choose the joining date</small>
                      </div>
                  </ion-col>
                  <ion-col style="width: 15px">
                      <ion-item>
                        <ion-icon  name="calendar"></ion-icon>
                      <ion-datetime [readonly]="appointmentDateEmp.value===null || dispatchDateEmp.value ===null" displayFormat="DD MMMM, YYYY" picker-format="DD MMMM YYYY"   id='employerWorkDetails-{{i}}-toDateEmp' (ionChange)="calculateDayForWorkDetails(i)" formControlName="toDateEmp" [min]="minTDate(i)" [max]="maxTDate(i)"></ion-datetime>
                      </ion-item>
                       <div class="text-danger" *ngIf="toDateEmp.invalid && toDateEmp.touched" >
                        <small *ngIf="!!toDateEmp.errors?.required">Please choose the resiging date</small>
                      </div>
                  </ion-col>
                  <ion-col style="width: 15px">
                    <ion-fab  style="margin-right:62px;" horizontal="end">
                      <ion-fab-button style="height: 45px;width: 45px;" (click)="deleteWorkerDetail(i)" >
                      <ion-icon name="close"></ion-icon>
                      </ion-fab-button>
                    </ion-fab>
              </ion-col>
                </ion-row>
              </ng-container>
            </ion-grid>
          </div>
          <ion-item>
            Working Days {{workingDay}}
          </ion-item>
          <ion-item *ngIf="workingDayFlag && toDateEmp.touched" style="color:red;">
            Working days are less than 90
          </ion-item>
          <ion-item margin-bottom>
            <ion-button  (click)="addMoreWorkerDetails()">Add More </ion-button>
          </ion-item>
        </ion-list>
      </form> 

    <form  [formGroup]="registrationFormGroup.get('supportingDocuments')">
      <ion-list>
        <ion-list-header  style="font-size:20px;">Supporting Documents should be in .jpeg , .png and .pdf</ion-list-header>
        <ng-container formArrayName="attachmentList" *ngFor="let each of attachmentDetails;let i = index;" >
          <ion-item  [formGroupName]="i">
          <ion-label text-wrap >{{each.document_en}}</ion-label>
          
          <ion-select slot="end" formControlName="attachmentType" [required]="!!each.required" (ionChange)="selectAttachmentType($event,i)"
            [class.is-invalid]="registrationFormGroup.get('supportingDocuments').get('attachmentList').get(i.toString()).get('attachmentType').invalid && registrationFormGroup.get('supportingDocuments').get('attachmentList').get(i.toString()).get('attachmentType').touched" interface="action-sheet">
            <ion-select-option value="" selected>Select</ion-select-option>
            <ion-select-option *ngFor="let eachOption of each.attachmentType" [value]="eachOption.value">{{eachOption.key}}</ion-select-option>
          </ion-select>
          <!-- <input slot="end" readonly type="checkbox" formControlName="attached"> -->
        </ion-item>
        </ng-container>       
        
        <ion-item>
          <ion-label >Applicant Photo</ion-label>
          <ion-fab  horizontal="end">
              <ion-fab-button (click)="takePicture()">
              <ion-icon name="camera"></ion-icon>
              </ion-fab-button>
          </ion-fab>
        </ion-item>
        <img [src]="currentImage" *ngIf="currentImage">

        <ion-item lines="none">
          <ion-label floating> Supporting Document</ion-label><br>
          </ion-item>
          <ion-item>
            <input id='supportingDocuments' type="file"  accept="application/pdf" (change)="uploadFile($event)" >
          </ion-item>
          

        <ion-item lines="none">
          <ion-label text-wrap floating>90 Days Work Certificate</ion-label>          
        </ion-item>
        <ion-item>        
          <input id='workCertificate' type="file" accept="application/pdf" (change)="uploadFile($event)" >
        </ion-item>
        
        
        <ion-item lines="none">
          <ion-label text-wrap floating> Bank Passbook</ion-label>
        </ion-item>
        <ion-item>
          <input id='bankPassbook' type="file" accept="application/pdf" (change)="uploadFile($event)" >
        </ion-item>

          <ion-button mode="ios"  expand="block" (click)="save()">Save</ion-button>

      </ion-list>
      
    </form>
  </form>
</ion-content>